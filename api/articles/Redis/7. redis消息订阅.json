{"title":"7. Redis消息订阅","uid":"fbeb9b890e6ad27f2985f31986833c5a","slug":"Redis/7. redis消息订阅","date":"2021-10-20T14:49:27.000Z","updated":"2021-10-20T15:42:50.500Z","comments":true,"path":"api/articles/Redis/7. redis消息订阅.json","keywords":null,"cover":"/images/default-cover.jpg","content":"<h1 id=\"相关命令\"><a href=\"#相关命令\" class=\"headerlink\" title=\"相关命令\"></a>相关命令</h1><ol>\n<li>psubscribe 订阅一个或多个符合给定模式的频道</li>\n<li>pubsub 查看订阅与发布系统状态</li>\n<li>publish 将信息发送到指定的频道</li>\n<li>punsubscribe 退订所有给定模式的频道</li>\n<li>subscribe 订阅给定的一个或多个频道的信息</li>\n<li>unsubscribe 退订给定的频道</li>\n</ol>\n<h1 id=\"测试\"><a href=\"#测试\" class=\"headerlink\" title=\"测试\"></a>测试</h1><p>订阅者</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">doubly@xiaoyizideMacBook-Pro bin % redis-cli\n127.0.0.1:6379&gt; SUBSCRIBE doubly\nReading messages... (press Ctrl-C to quit)\n1) &quot;subscribe&quot;\n2) &quot;doubly&quot;\n3) (integer) 1\n1) &quot;message&quot;\n2) &quot;doubly&quot;\n3) &quot;1234&quot;\n1) &quot;message&quot;\n2) &quot;doubly&quot;\n3) &quot;666&quot;</code></pre>\n\n<p>发布者</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">doubly@xiaoyizideMacBook-Pro bin % redis-cli\n127.0.0.1:6379&gt; PUBLISH doubly 123\n(integer) 0\n127.0.0.1:6379&gt; PUBLISH doubly 123\n(integer) 2</code></pre>\n\n<p>使用代码编写同理</p>\n<h1 id=\"使用场景\"><a href=\"#使用场景\" class=\"headerlink\" title=\"使用场景\"></a>使用场景</h1><ol>\n<li>实时消息系统</li>\n<li>实时聊天</li>\n<li>订阅、关注系统</li>\n</ol>\n<p>稍微复杂的场景我们就会使用消息中间件MQ</p>\n","text":"相关命令 psubscribe 订阅一个或多个符合给定模式的频道 pubsub 查看订阅与发布系统状态 publish 将信息发送到指定的频道 punsubscribe 退订所有给定模式的频道 subscribe 订阅给定的一个或多个频道的信息 unsubscribe 退订给定的...","link":"","photos":[],"count_time":{"symbolsCount":672,"symbolsTime":"1 mins."},"categories":[{"name":"Redis","slug":"Redis","count":10,"path":"api/categories/Redis.json"}],"tags":[{"name":"Redis","slug":"Redis","count":10,"path":"api/tags/Redis.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">相关命令</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%B5%8B%E8%AF%95\"><span class=\"toc-text\">测试</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF\"><span class=\"toc-text\">使用场景</span></a></li></ol>","author":{"name":"小益子","slug":"blog-author","avatar":"/images/HeadPhoto.jpg","link":"/","description":"小益子的个人博客","socials":{"github":"https://github.com/doubly-yi","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/qq_18335837","juejin":"","customs":{"gitee":{"icon":"/icons/gitee2.svg","link":"https://gitee.com/doubly"},"bilibili":{"icon":"/icons/bilibili.svg","link":"https://space.bilibili.com/294694129"}}}},"mapped":true,"prev_post":{"title":"8. Redis主从复制","uid":"a29736afc3281cd9df989ab2a6d0da6b","slug":"Redis/8. Redis主从复制","date":"2021-10-20T14:49:28.000Z","updated":"2021-10-20T15:42:59.069Z","comments":true,"path":"api/articles/Redis/8. Redis主从复制.json","keywords":null,"cover":"/images/default-cover.jpg","text":"概念主从复制,是指将一台Redis服务器的数据,复制到其他的Redis服务器。前者称为主节点(masterleader) ,后者称为从节点(slavefolldwer) ;==数据的复制是单向的,只能由主节点到从节点==。Master以写为主, Slave以读为主 ==默认情况下...","link":"","photos":[],"count_time":{"symbolsCount":"11k","symbolsTime":"10 mins."},"categories":[{"name":"Redis","slug":"Redis","count":10,"path":"api/categories/Redis.json"}],"tags":[{"name":"Redis","slug":"Redis","count":10,"path":"api/tags/Redis.json"}],"author":{"name":"小益子","slug":"blog-author","avatar":"/images/HeadPhoto.jpg","link":"/","description":"小益子的个人博客","socials":{"github":"https://github.com/doubly-yi","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/qq_18335837","juejin":"","customs":{"gitee":{"icon":"/icons/gitee2.svg","link":"https://gitee.com/doubly"},"bilibili":{"icon":"/icons/bilibili.svg","link":"https://space.bilibili.com/294694129"}}}}},"next_post":{"title":"6. Redis持久化","uid":"d75529aa97ccd14fd62310763631c690","slug":"Redis/6. Redis持久化","date":"2021-10-20T14:49:26.000Z","updated":"2021-10-20T15:42:43.592Z","comments":true,"path":"api/articles/Redis/6. Redis持久化.json","keywords":null,"cover":"/images/default-cover.jpg","text":"RDBRDB（Redis Database） Redis会单独创建（fork）一个子进程来进行持久化，会先将数据写入到一个临时文件，待持久化过程都结束了，再用这个临时文件替换上次持久化的文件。整个过程中，主进程不进行IO操作，这就确保了极高的性能。 如果需要大规模的数据恢复，且对...","link":"","photos":[],"count_time":{"symbolsCount":"1.4k","symbolsTime":"1 mins."},"categories":[{"name":"Redis","slug":"Redis","count":10,"path":"api/categories/Redis.json"}],"tags":[{"name":"Redis","slug":"Redis","count":10,"path":"api/tags/Redis.json"}],"author":{"name":"小益子","slug":"blog-author","avatar":"/images/HeadPhoto.jpg","link":"/","description":"小益子的个人博客","socials":{"github":"https://github.com/doubly-yi","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"https://blog.csdn.net/qq_18335837","juejin":"","customs":{"gitee":{"icon":"/icons/gitee2.svg","link":"https://gitee.com/doubly"},"bilibili":{"icon":"/icons/bilibili.svg","link":"https://space.bilibili.com/294694129"}}}}}}